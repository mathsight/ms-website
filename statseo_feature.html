
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>MathSight StatSEO Demo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://d396qusza40orc.cloudfront.net/startup%2Fcode%2Fbootstrap-combined.no-icons.min.css">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css">
	<link rel="stylesheet" href="https://d396qusza40orc.cloudfront.net/startup%2Fcode%2Fsocial-buttons.css">  
	
	<!-- for toggle switch -->
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8;" />
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/css/bootstrap-switch.css">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css">
	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.js"></script>
	<script src="https://d396qusza40orc.cloudfront.net/startup%2Fcode%2Fbootstrap.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
	<!-- for datatables' styling -->
	<link href="http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700,300italic,400italic,500italic,700italic" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,300,400,600,700,800" rel="stylesheet" type="text/css">
	
	<!-- Optional theme -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">

	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

	<!-- for datatables -->
	<script src="datatables/media/js/jquery.dataTables.js"></script>
	
	<!-- for toggle switch -->
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> -->
	<!-- <script src="./bootstrap-switch/static/js/bootstrap-switch.js"></script>  -->


	<!-- for datatables' styling etc -->
	<script type="text/javascript" charset="utf-8" src="datatables/media/js/ZeroClipboard.js"></script>
	<script type="text/javascript" charset="utf-8" src="datatables/media/js/TableTools.js"></script>
	<script type="text/javascript" charset="utf-8" src="http://datatables.github.com/Plugins/integration/bootstrap/2/dataTables.bootstrap.js"></script>
	
	
	<!-- for dropdown menu -->
	<!-- Latest compiled and minified JavaScript -->
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>

	<style>
	canvas{
	}
	</style>
	
	<style type="text/css">

	/* Large desktop */
	@media (min-width: 980px) { 
		body {
			padding-top: 60px;
		}
		.linediv-l {
			border-right: 1px white solid;
		}
		.linediv-r {
			border-left: 1px white solid;
		}
	}

	/* Landscape phones and down */
	@media (max-width: 480px) { 
		.copy {
			padding: 2.5% 10%;
		}
		.linediv-l {
			border-bottom: 1px white solid;
		}
		.linediv-r {
			border-top: 1px white solid;
		}
	}

	/* All form factors */

	/* Main body and headings */
	body{
		font-family: 'Open Sans', Helvetica, Arial, sans-serif;
	}
	.heading, .subheading {
		font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
		text-align: center;
	}
	p.lead {
		padding-top: 1.5%;
		font-size: 24px;
		line-height: 30px;
	}
	p {
		font-size: 18px;
		line-height: 24px;
	}

	/* Video pitch and Action */
	.pitch {
		padding: 2.5% 0%;
	}
	.order {
		padding: 2% 0%;
	}
	.actions {
		background-color: #343434;
		padding: 3% 0%;
	}
	.video, .thermometer, .order, .social, .statistics {
		text-align: center;
	}
	.statistics h3, .statistics p {
		color: white;
	}

	/* Marketing Copy and Footer */
	.copy {
		padding-top: 2.5%;
		padding-bottom: 2.5%;
		text-align: justify;
	}
	.asset {
		padding: 2.5% 0%;
	}
	.footer {
		color: #cccccc;
		text-align: center;
	}
	.footer p {
		font-size: 11px;
	}
	.footer a {
		color: #ccccff;
	}
	</style>
    
    
    
    
	<style>
	/* for chart (nvd3) */
	body {
		overflow-y:scroll;
	}

	text {
		font: 12px sans-serif;
	}

	#chart1 {
		margin: 10px;
		min-width: 100px;
		min-height: 100px;
		/*
		Minimum height and width is a good idea to prevent negative SVG dimensions...
		For example width should be =< margin.left + margin.right + 1,
		of course 1 pixel for the entire chart would not be very useful, BUT should not have errors
		*/
	}

	#chart1 svg {
		height: 500px;
	}

	</style>

	<script>

	/* Global vars */
	// var locate = decodeURI(window.location);
	// 	var urlSplit = locate.split("=");
	var websiteName = "";
	var pageType = "";
	var featureSel = "";

	var features = [];

	var featureJSON = $.getJSON( "json/features/feature_list.json", function(results) {
		console.log( "feature JSON loading success" );
		$.each(results, function(index) {
			// alert(results[index].name);
			blob = results[index].name;
			$.each(blob, function(nameIndex) {
				features.push(blob[nameIndex]);
			});

		});
	})
	.done(function() {
		console.log( "second success" );
	})
	.fail(function() {
		console.log( "error" );
	})
	.always(function() {
		console.log( "complete" );
	});
	

	featureJSON.complete(function() {
		console.log( "second complete - populating feature dropdown" );
		
		var select = document.getElementById("selectFeat"); 
		
		for(var i = 0; i < features.length; i++) {
			var opt = features[i];
			var el = document.createElement("option");
			el.textContent = opt;
			el.value = opt;
			select.appendChild(el);
		}
		
		// document.getElementById("jfeatures").innerHTML=features; 						 
	
	});


	// ------------------------------
	
	var websites = [];

	var websiteJSON = $.getJSON( "json/websites/websiteList.json", function(results) {
		console.log( "website JSON loading success" );
		$.each(results, function(index) {
			websites.push(results[index].url);
		});
	})
	.done(function() {
		console.log( "second success" );
	})
	.fail(function() {
		console.log( "error" );
	})
	.always(function() {
		console.log( "complete" );
	});
	

	websiteJSON.complete(function() {
		console.log( "second complete - populating website dropdown" );
		
		var selectSite = document.getElementById("selectSite"); 
		
		for(var i = 0; i < websites.length; i++) {
			// console.log(websites[i]);
			var opt = websites[i];
			var el = document.createElement("option");
			el.textContent = opt;
			el.value = opt;
			selectSite.appendChild(el);
		}

	});
	
	
	
	// ------------------------------

	jQuery(document).ready(function($) {
		$(".clickableRow").click(function() {
			window.document.location = $(this).attr("href");
		});
	});
	
	</script>
	

	<script>
	
	// var arr = [ 2, 3, 7, 14];
	// 	$.each(arr, function(index, value) {
		// 
		// 	     ('#dropdownSiteFeature').append($('<option>').text(value).attr('value', index));
		// 	});


		function doStuff()
		{
			var domainElement = document.getElementById("inputURL");
			var websiteURLNew = domainElement.value;
			if (websiteURLNew.length > 0) {
			
				var websiteSplitNew = websiteURLNew.split(".");
				websiteName = websiteSplitNew[1] || "";
			}
			else {
				domainElementX = document.getElementById("selectSite").selectedIndex;
				domainElementY = document.getElementById("selectSite").options;
				websiteURLNew = domainElementY[domainElementX].text;
				websiteSplitNew = websiteURLNew.split(".");
				websiteName = websiteSplitNew[1] || "";
			}

			//alert("website name is " + websiteName);

			var pageTypeX = document.getElementById("selectOnOff").selectedIndex;
			var pageTypeY = document.getElementById("selectOnOff").options;
			var pageType = pageTypeY[pageTypeX].text.split(' ')[0].toLowerCase();
		
			//alert("page type is " + pageType);
		
			var featureX = document.getElementById("selectFeat").selectedIndex;
			var featureY = document.getElementById("selectFeat").options;
			var featureSel = featureY[featureX].text.toLowerCase();
		
			//alert("feature selection is " + featureSel);

			if (websiteName.length > 0 && featureSel.length > 0 && pageType.length > 0 && featureX > 2){
				urlToOpen = "SQ_drilldown.html?="+websiteName+"&="+featureSel+"&="+pageType;
				window.open(urlToOpen ,"_self");
			}
			else if(websiteName.length > 0 && featureSel.length > 0 && pageType.length > 0 && featureX == 2){
				urlToOpen = "SQ_toplevel.html?="+websiteName+"&="+pageType;
				window.open(urlToOpen ,"_self");
			}
			else{
		 
			}

		}
		
		function doSearch(){
			var featElement = document.getElementById("inputFeature");
			alert("Search feature not yet working - please select from the dropdown");
		}
	
		</script>



	</head>
	<body>

		<!-- Mobile-friendly navbar adapted from example. -->
		<!-- http://twitter.github.io/bootstrap/examples/starter-template.html -->
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<button type="button" class="btn btn-navbar"
					data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			    <!-- <a class="brand" href="/">MathSight Demo</a> -->
			             <a class="brand" href="#"><img src="logo/mathsight-cobalt logo.png" /></a>
				<div class="nav-collapse collapse">
					<ul class="nav">
						<li><a href="/">Home</a></li>
						<!-- <li><a href="/plans.html">Plans</a></li> -->
						<li class="active"><a href="/statseo_feature.html">StatSEO</a></li>
						<li><a href="/api.html">API</a></li>
						<li><a href="/feature_def.html">Features</a></li>
					</ul>
				</div><!--/.nav-collapse -->
			</div>
		</div>
	</div>

	<!-- We use row-fluid inside containers to achieve a resizable layout. -->
	<!-- blogs.endjin.com/2013/04/tips-for-implementing-responsive-designs-using-bootstrap/ -->
	<!-- http://stackoverflow.com/a/12270322 -->
	<div class="container-fluid" id="header">
		<!-- Font and paired font of .heading/.subheading and body from Google Fonts -->
		<!-- www.google.com/fonts/specimen/Ubuntu -->
		<!-- www.google.com/fonts/specimen/Ubuntu#pairings -->
		<div class="row-fluid heading">
			<div class="span12">
				<h1>StatSEO: Demonstration</h1>
			</div>
		</div> 

		<hr>
		
		<div class="well">
			Enter Domain URL:
			<div class="form-group">
				<input type="url" class="form-control" id="inputURL">
				<form id="dropdownWebsite">
					<select id="selectSite">
						<option>or select domain from a list</option>
						<option class="divider">-------------------------</option>
					</select>
				</form>
			</div>
			  
			<br>

			<form id="dropdownOnOff">
				<select id="selectOnOff">
					<option>Select onsite or offsite</option>
					<option class="divider">-------------------------</option>
					<option>Onsite (this domain)</option>
					<option>Offsite (backlinks)</option>
				</select>
			</form>
					  
			<br>
			  

			<div class="form-group">
	  
				<input type="text" class="form-control" placeholder="Type feature name" id="inputFeature">
				<span class="input-group-btn">
					<button class="btn btn-default" onclick="doSearch()" type="submit" id="submitFeat">
						Search
					</button>
				</span>
	  
				<form id="dropdownFeature">
					<select id="selectFeat">
						<option>Select feature or StatSEO</option>
						<option class="divider">-------------------------</option>
						<option>StatSEO Overview</option>
						<option class="divider">-------------------------</option>
					</select>
				</form>
	
			</div><!-- /form-group -->

			<br><br>

			<button onclick="doStuff()" type="submit" class="btn btn-primary" id="submitUrl">

				submit!
							  
			</button>

			<br><br>

			<a href="/feature_def.html">
				Feature definition list
			</a>
			
			  
		</div>
			  
		<hr>

		<!-- Not crucial, but we put this under a CC By-SA 3.0 license. -->
		<!-- http://creativecommons.org/licenses/ -->
		<!-- Not crucial, but we put this under a CC By-SA 3.0 license. -->
		<!-- http://creativecommons.org/licenses/ -->
		<div class="row-fluid footer">
			<div class="span12">
				<p><small>© MathSight Ltd 2013 &nbsp; &nbsp;Terms of Service &nbsp; &nbsp;Privacy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Run by MathSight Ltd in Richmond, UK<small></p>
				</div>
			</div>

		</div>
	</body>
	</html>
